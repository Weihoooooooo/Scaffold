server:
  port: 8888
spring:
  mvc:
    servlet:
      load-on-startup: 1 # 取消 DispatcherServlet 懒加载 ，加快重启后接口调用的速度
    pathmatch:
      matching-strategy: ant_path_matcher # 防止Spring Boot 2.7.X 与 SpringFox路径匹配不一致报错
  cache:
    type: redis
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    druid:
      db-type: com.alibaba.druid.pool.DruidDataSource
      driverClassName: com.mysql.cj.jdbc.Driver
      url: jdbc:mysql://192.168.137.128:3306/scaffold?serverTimezone=Asia/Shanghai&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true
      username: root
      password: 970049938
      # 初始连接数
      initial-size: 5
      # 最小连接数
      min-idle: 15
      # 最大连接数
      max-active: 30
      # 超时时间(以秒数为单位)
      remove-abandoned-timeout: 180
      # 获取连接超时时间
      max-wait: 3000
      # 连接有效性检测时间
      time-between-eviction-runs-millis: 60000
      # 连接在池中最小生存的时间
      min-evictable-idle-time-millis: 300000
      # 连接在池中最大生存的时间
      max-evictable-idle-time-millis: 900000
      # 指明连接是否被空闲连接回收器(如果有)进行检验.如果检测失败,则连接将被从池中去除
      test-while-idle: true
      # 指明是否在从池中取出连接前进行检验,如果检验失败, 则从池中去除连接并尝试取出另一个
      test-on-borrow: true
      # 是否在归还到池中前进行检验
      test-on-return: false
      # 检测连接是否有效
      validation-query: select 1
      # 配置监控统计
      webStatFilter:
        enabled: true
      stat-view-servlet:
        enabled: true
        url-pattern: /druid/*
        reset-enable: false
        login-username: druid
        login-password: druid
      filter:
        stat:
          enabled: true
          # 记录慢SQL
          log-slow-sql: true
          slow-sql-millis: 1000
          merge-sql: true
        wall:
          config:
            multi-statement-allow: true
  redis:
    #数据库索引
    database: 15
    host: 192.168.137.128
    port: 19700
    password: 970049938
    #连接超时时间
    timeout: 5000

logging:
  level:
    com.weiho.scaffold: DEBUG #开启Mybatis Log Plugin sql日志

#Mybatis  - - -  resultMap 不用全写映射，当数据库中的某些字段不匹配时，只用写某些字段
mybatis-plus:
  mapper-locations: classpath*:mapper/**/*.xml # 扫描所有XML的位置
  global-config:
    db-config:
      id-type: auto # 采用数据库的自增模式
    banner: false # 关闭控制台banner输出
  configuration:
    default-enum-type-handler: org.apache.ibatis.type.EnumOrdinalTypeHandler # 处理枚举类
#  type-aliases-package: com.r6.**.entity # 别名注解扫描路径

# PageHelper 分页插件
pagehelper:
  helperDialect: mysql
  #分页合理化参数，默认值为false。当该参数设置为 true 时，pageNum<=0 时会查询第一页，
  #pageNum>pages（超过总数时），会查询最后一页。默认false 时，直接根据参数进行查询。
  reasonable: true
  #支持通过 Mapper 接口参数来传递分页参数，默认值false，分页插件会从查询方法的参数值中，
  #自动根据上面 params 配置的字段中取值，查找到合适的值时就会自动分页。
  supportMethodsArguments: true
  #为了支持startPage(Object params)方法，增加了该参数来配置参数映射，用于从对象中根据属
  #性名取值， 可以配置 pageNum,pageSize,count,pageSizeZero,reasonable，不配置映射的用默认值，
  #默认值为pageNum=pageNum;pageSize=pageSize;count=countSql;reasonable=reasonable;pageSizeZero=pageSizeZero。
  params: count=countSql

scaffold:
  version: 1.0-SNAPSHOT
  rsa:
    private-key: MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAK5QVo+pg09h7uqYwkacGVhx9s9etWcHCVg765+9jw+2cuspnlLjZnJ94lwC2hVfWfhES8RhQ6lWwwXJBim5BJBgFV5Y3FVpZ3gRm814Xl+NtcTaQXIDs3bVSVg1Uk/L0asAn2gCcguGecycjExmEqN2vEJUdRioNm2eR+eZHOPDAgMBAAECgYBTBmLkVFn9wmiYhp/qH8mWrdlflf2TD+/sfcXRtOjiFAWSaqVFV5hhKgJZzuXuzha9QFJSO/2NN4z2QXRVBRHdo/pEwujQ0a3tgnDP0gSmPEYJb6XYCqs7IhJVtsaFSsXJsI+tPwENjtEPU6ADQxYlfJfnQNAoP1K66oot+TTyEQJBAOrN2xiA/LpBRTj70VMLl67CENA/ZUB19E/Wj6IVdKuICMDdiUObVj/SrKCg0Ulmrj9k9Buug9EG542zXEwV8tkCQQC+DJj3d9kHVrDQOWs1J++IT/opbKjcHLs4x6SWYpKZw0+cbX1b58Upqi7MSNoyGzPG5kti8V3StT33R1/+1nH7AkA6b1zVblR3LgNCOTlRB5OKRHXWvdA/CJvyup0oY1qTzdkP1pJwptoCLDYWC6/KKqm20TMHKJlZjfRWiYqwzM2RAkBOAbW3vcWjMX4Zube7dczn0owH/MXCszhVsfxojcVGv9gpiPdvhc5zr5rN1wlYj7nM5jIDRrcQCbyJhw5r93GJAkEA1F7jbZ+toX6tjyXYfHilu14I/uaZZjOCb50ADoo5uGR2fp8X1/EKWkaVT20U6jZsbqn0qxiV+Hq3F0K9eoGZcA==
  jwt:
    # token的请求头的key
    header: Authorization
    # 令牌token的前缀
    token-start-with: Bearer
    # token加密的编码
    secret: k09BQnaF
    # token过期的时间（毫秒）
    token-validity-in-seconds: 14400000
    # 在线用户信息缓存中的Key前缀
    online-key: Scaffold-Online-User-
    # 登录后用户信息的Key前缀
    detail-key: Scaffold-User-details-
    # 登录后存储用户Token的Key
    token-key: Scaffold-User-token-
    # 是否允许用户单次登录
    single-login: false
  code:
    # 存储在Redis中验证码的 Key
    code-key: Scaffold-VerifyCode-key-
    # 验证码过期时间 2 Min
    expiration: 2
    # 验证码的类型(使用第三方jar包) https://gitee.com/ele-admin/EasyCaptcha
    # com.wf.captcha.ArithmeticCaptcha - 算数类型(推荐)(默认是算数并且2位算术)
    # com.wf.captcha.GifCaptcha - 动图类型(推荐)
    # com.wf.captcha.SpecCaptcha - png类型(前后端分离用不上，最好使用Base64)
    # com.wf.captcha.ChineseCaptcha - 中文类型(避免乱码,可用性不太高)
    # com.wf.captcha.ChineseGifCaptcha - 中文gif类型(同上)
    type: com.wf.captcha.ArithmeticCaptcha
    # 验证码高度(默认40)
    height: 40
    # 验证码宽度(默认140)
    width: 140
    # 验证码的位数
    len: 3
  swagger:
    # 是否开启Swagger
    enabled: true
    # Swagger标题
    title: Scaffold - 后台API接口文档
    # 描述
    description: 用于实时查看、测试API、提供前端使用
    # 版本
    version: SNAPSHOT
  thread-pool:
    # 核心线程数
    corePoolSize: 20
    # 最大线程数
    maxPoolSize: 40
    # 队列大小
    queueCapacity: 999
    # 活跃时间
    keepAliveSeconds: 300
    # 线程名称前缀
    namePrefix: Scaffold-async-thread-
  limit:
    # 是否开启接口限流
    enabled: true
  monitor:
    # 是否开启 WebSocket 系统状态监控
    enabled: false
